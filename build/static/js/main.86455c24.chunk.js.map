{"version":3,"sources":["components/CardList.tsx","components/Tea.tsx","echarts/bar.jsx","components/Advise.tsx","components/Login.tsx","components/Detail.tsx","components/Update.tsx","components/Register.tsx","components/new.tsx","components/menu.tsx","index.tsx"],"names":["InfiniteListExample","state","data","loading","hasMore","author","localStorage","getItem","fetchData","axios","get","then","res","handleInfiniteOnLoad","setState","length","message","warning","concat","this","list","item","key","id","className","title","content","substring","type","to","initialLoad","pageStart","loadMore","useWindow","map","renderRow","bind","React","Component","Tea","description","showIcon","Bar","useState","keys","setKeys","values","setValues","echarts","registerTheme","backgroundColor","useEffect","reduce","allNames","name","Object","option","text","tooltip","xAxis","yAxis","series","theme","Advise","Login","username","setUsername","password","setPassword","initialValues","remember","layout","Item","label","rules","required","onChange","e","target","value","Password","htmlType","onClick","post","resp","success","console","log","setItem","alert","Detail","window","location","search","split","Author","setAuthor","SetContent","setTitle","align","justify","style","color","fontSize","Update","TextArea","Input","SetTitle","placeholder","rows","Register","New","Search","Header","AudioOutlined","Layout","Sider","Content","Footer","SiderDemo","collapsed","SetCollapsed","collapsible","trigger","breakpoint","onBreakpoint","mode","defaultSelectedKeys","icon","HomeOutlined","FileTextOutlined","CoffeeOutlined","padding","background","span","width","margin","minHeight","path","exact","render","textAlign","App","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.86455c24.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nimport axios from 'axios'\r\nimport { List, message, Avatar, Spin, Button } from 'antd';\r\n\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nexport class InfiniteListExample extends React.Component {\r\n  state = {\r\n    data: [],\r\n    loading: false,\r\n    hasMore: true,\r\n    author:localStorage.getItem('author')\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.fetchData.then(res => {\r\n\r\n      this.setState({\r\n        data: res.list,\r\n      });\r\n\r\n    });\r\n  }\r\n\r\n  fetchData = axios.get('/api/blog/list').then(res => res.data\r\n  )\r\n  renderRow(item) {\r\n  return (\r\n    <div key={item.id} className=\"row\">\r\n      <div className=\"image\">\r\n        {/* <img src={item.image} alt=\"\" /> */}\r\n      </div>\r\n      <div className=\"content\">\r\n        <div>{item.title}</div>\r\n        <div className='content'>{item.content.substring(0,100).concat('...')}</div>\r\n        <div className='author'>by   {item.author}</div>\r\n        <Button type=\"dashed\"><Link to={`/detail?${item.id}`}>点击查看详情</Link></Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n  handleInfiniteOnLoad = () => {\r\n    let { data } = this.state;\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n    if (data.length > 14) {\r\n      message.warning('Infinite List loaded all');\r\n      this.setState({\r\n        hasMore: false,\r\n        loading: false,\r\n      });\r\n      return;\r\n    }\r\n    this.fetchData.then(res => {\r\n      data = data.concat(res);\r\n      this.setState({\r\n        data,\r\n        loading: false,\r\n      });\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"demo-infinite-container\">\r\n        <InfiniteScroll\r\n          initialLoad={false}\r\n          pageStart={0}\r\n          loadMore={this.handleInfiniteOnLoad}\r\n          hasMore={!this.state.loading && this.state.hasMore}\r\n          useWindow={false}\r\n        >\r\n          {/* <List\r\n            dataSource={this.state.data}\r\n            renderItem={\r\n              item => \r\n                \r\n                \r\n                 (<List.Item key={item.id?item.id:null}>\r\n                    <List.Item.Meta\r\n                      // avatar={<Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />}\r\n                      title={item.title}\r\n                      description={item.content}\r\n                    />\r\n                  <div style={{ \r\n                      marginRight: 50\r\n                    }}>by  {item.author}</div>\r\n                 <Button type=\"dashed\"><Link to={`/detail?${item.id}`}>点击查看详情</Link></Button> </List.Item>)\r\n              \r\n\r\n                \r\n                \r\n             }\r\n          >\r\n            {this.state.loading && this.state.hasMore && (\r\n              <div className=\"demo-loading-container\">\r\n                <Spin />\r\n              </div>\r\n            )}\r\n          </List> */}\r\n          <div className=\"list\">\r\n        {this.state.data.map(this.renderRow.bind(this))}\r\n      </div>\r\n        </InfiniteScroll>\r\n        <Button>  {this.state.author ? <Link to='new'>点击新增博客</Link> : '请先登入才能新增博客哦'} </Button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import React, { useState } from 'react'\r\nimport { Alert } from 'antd'\r\nexport default  function Tea(){\r\n    return(\r\n     <div>\r\n       <Alert\r\n      message=\"请注意\"\r\n      description=\"不要发不良的信息呦!\"\r\n      type=\"info\"\r\n      showIcon\r\n    />\r\n    <br/>\r\n        <h1>这个blog有很多不足</h1>\r\n          <h1>但俺才快大二，有时间去升级和维护</h1>\r\n        <h1>求大家点赞^ ^</h1></div>\r\n    )}","import React, { useState } from 'react'\r\nimport {Card} from 'antd'\r\nimport axios from 'axios'\r\nimport echarts from 'echarts'\r\nimport ReactEcharts  from 'echarts-for-react'\r\nimport { useEffect } from 'react'\r\n\r\n\r\nexport default  function Bar (){\r\n  const  [keys,setKeys] = useState([]);\r\n   const  [ values ,setValues] = useState([]); \r\n   echarts.registerTheme('my_theme', {\r\n  backgroundColor: '#f0ffff'\r\n});\r\n useEffect(()=>{\r\n  \r\n axios.get('/api/blog/list').then(res => res.data.list).then(res=>res.map(item=>item.author)).then(res=>res.reduce(function (allNames, name) { \r\n  if (name in allNames) {\r\n    allNames[name]++;\r\n  }\r\n  else {\r\n    allNames[name] = 1;\r\n  }\r\n  return allNames;\r\n}, {})).then(res=>{\r\n setKeys(Object.keys(res)) \r\n\r\n   setValues(Object.values(res))\r\n   \r\n})\r\n \r\n},[])\r\n\r\n\r\n function getOption(){\r\n   let option = {\r\n            title: {\r\n                text: '发布博客文章数量'\r\n            },\r\n            tooltip: {},\r\n            xAxis: {\r\n                data: keys\r\n            },\r\n            yAxis: {},\r\n            series: [{\r\n                name: '数量',\r\n                type: 'bar',\r\n                data: values\r\n            }]\r\n        };\r\n    \r\n   return option\r\n}\r\n \r\n\r\n\r\n\r\n  return(\r\n    <div>\r\n     <Card title='来看看发布文章的数量吧'>\r\n\r\n       <ReactEcharts option={getOption()} theme={\"theme_name\"}/>\r\n     </Card>\r\n\r\n    </div>\r\n  )\r\n}","import React, { useState,useRef,useEffect } from 'react'\r\nimport Bar from '../echarts/bar'\r\n\r\n\r\nexport default  function Advise(){ \r\n    return(\r\n        <div> \r\n         \r\n          <Bar/>\r\n          \r\n    \r\n    \r\n    </div>\r\n    )}","import React, {useState,useEffect}from 'react';\r\nimport { Form, Input, Button} from 'antd';\r\nimport axios from 'axios'\r\n\r\n\r\nconst Login = () => {\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n \r\n   const handleLogin = () =>{\r\n    axios.post(`/api/user/login`,{\r\n     username,password\r\n    }).then(resp => {\r\n       \r\n    if (resp.data.success) {\r\n      console.log(resp.data)\r\n           localStorage.setItem('author',resp.data.author)       \r\n          alert(`登录成功`)\r\n       }\r\n       \r\n       else {\r\n        alert(`登录失败`)\r\n       }\r\n     })}\r\n   \r\n\r\n  \r\n\r\n\r\n\r\n  return (\r\n    <Form\r\n     \r\n      name=\"basic\"\r\n      initialValues={{\r\n        remember: true,\r\n      }}\r\n      layout='inline'\r\n    >\r\n      <Form.Item\r\n        label=\"用户名\"\r\n        name=\"username\"\r\n        rules={[\r\n          {\r\n            required: true,\r\n            message: '请输入你的用户名',\r\n          },\r\n        ]}\r\n      >\r\n        <Input  onChange={e => {\r\n                  \r\n                  setUsername(e.target.value)\r\n                }}/>\r\n      </Form.Item>\r\n\r\n      <Form.Item\r\n        label=\"密码\"\r\n        name=\"password\"\r\n        rules={[\r\n          {\r\n            required: true,\r\n            message: '请输入你的密码',\r\n          },\r\n        ]}\r\n      >\r\n        <Input.Password onChange={e => {\r\n                  \r\n                  setPassword(e.target.value)\r\n                }}/>\r\n      </Form.Item>\r\n\r\n\r\n      <Form.Item >\r\n        <Button type=\"primary\" htmlType=\"submit\"onClick={handleLogin}>\r\n          登入\r\n        </Button>\r\n      </Form.Item>\r\n    </Form>\r\n  );\r\n};\r\n\r\n\r\n\r\nexport default Login;","import React, { useState } from 'react'\r\nimport axios from 'axios'\r\nimport {Col,Row, Button, Alert} from 'antd'\r\nimport { Link } from 'react-router-dom';\r\nexport default function Detail() {\r\n    let list = window.location.search.split('?');\r\n    let id = list[1];\r\n    \r\n    const  Author = localStorage.getItem('author')\r\n    const [author, setAuthor] = useState('');\r\n    const [content, SetContent] = useState(\"\");\r\n    const [title, setTitle] = useState('')\r\n    axios.get(`/api/blog/detail?id=${id}`).then(\r\n      res => res.data\r\n    ). then(res => {\r\n       setAuthor(res.author)\r\n     \r\n  \r\n      setTitle(res.title)\r\n       SetContent(res.content)\r\n\r\n   })\r\n    const handleDel =()=>{\r\n          \r\n                axios(`/api/blog/del?id=${id}`).then(\r\n            res=>res.data\r\n        )\r\n        .then(\r\n               res=>{\r\n                   if(res.success){\r\n                       alert('删除成功')\r\n                   }else{\r\n                       alert('删除失败')\r\n                   }\r\n               }\r\n            )\r\n            \r\n        \r\n          \r\n        \r\n       \r\n    }\r\n\r\n    return (<div>\r\n       <Row align='middle'justify='center'><h2 className=\"title\">{title}</h2></Row> \r\n       <Row><div><span style={{\r\n           color:'grey',\r\n           fontSize:'12px'\r\n       }}> write By {author}</span><span style={{\r\n        color:'grey',\r\n        fontSize:'12px'\r\n    }}> </span></div></Row> \r\n    <br/>\r\n    <br/>\r\n        <div><p>{content}</p></div>\r\n       <Button>{Author===author?<Link to={`/update?${id}`}>更新</Link>:''}</Button> \r\n        <br/>\r\n         {Author===author?<Button onClick={handleDel}>删除 </Button>:<div></div>}\r\n\r\n        \r\n       \r\n    </div>\r\n\r\n    )\r\n}","import React, { useState, useContext } from 'react'\r\nimport { Input,Button } from 'antd';\r\nimport axios from 'axios'\r\nexport default  function Update(){\r\n    let list = window.location.search.split('?');\r\n    let id = list[1];\r\n    const { TextArea } = Input;\r\n    const [title,SetTitle]=useState('')\r\n    const [content,SetContent]=useState('')\r\n    //  const [author,SetAuthor]=useState('')\r\n     const author = localStorage.getItem('author')\r\n    const HandleUpdate=()=>{\r\n        axios(`/api/blog/update?id=${id}&title=${title}&content=${content}&author=${author}`,).then(res=>res.data\r\n        ).then(res=>{\r\n          // console.log(res)\r\n            if(res){\r\n                alert('更新成功')\r\n            }\r\n            else{\r\n                alert('更新失败')\r\n            }\r\n        }\r\n          \r\n        )\r\n    }\r\n   \r\n\r\n    return(\r\n        <div> <Input onChange={e=>{SetTitle(e.target.value)}}  placeholder=\"请输入标题\" />\r\n         {/* <Input onChange={e=>{SetAuthor(e.target.value)}}  placeholder=\"请输入作者姓名\" /> */}\r\n        <TextArea onChange={e=>{SetContent(e.target.value)}} rows={4} placeholder='请输入内容'/>\r\n       \r\n       <Button onClick={HandleUpdate}>提交更新</Button></div>\r\n    )}","import React, { useState } from 'react';\r\nimport { Form, Input, Button, Checkbox } from 'antd';\r\nimport axios from 'axios'\r\n\r\n\r\nconst Register = () => {\r\n    const [username, setUsername] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const handleRegister = () => {\r\n       \r\n        axios.post('/api/user/register',{\r\n            username,password\r\n        })\r\n        .then(resp => resp.data)\r\n        .then(resp => {\r\n          if (resp) {\r\n            alert(`注册成功，快去登入吧`)\r\n          } else {\r\n            alert(`注册失败`)\r\n          }\r\n        })\r\n        \r\n      \r\n    } \r\n    return (\r\n        <Form\r\n          \r\n            name=\"basic\"\r\n            layout='inline'\r\n            initialValues={{\r\n                remember: true,\r\n            }}\r\n\r\n        >\r\n            <Form.Item\r\n                label=\"用户名\"\r\n                name=\"用户名\"\r\n\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        message: '请输入你的用户名!',\r\n                    },\r\n                ]}\r\n            >\r\n                <Input onChange={e => {\r\n\r\n                    setUsername(e.target.value)\r\n                }} />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n                label=\"密码\"\r\n                name=\"密码\"\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        message: '请输入你的密码!',\r\n                    },\r\n                ]}\r\n            >\r\n                <Input.Password onChange={e => {\r\n\r\n                    setPassword(e.target.value)\r\n                }} />\r\n            </Form.Item>\r\n\r\n\r\n\r\n            <Form.Item >\r\n                <Button  htmlType=\"submit\" onClick={handleRegister}>\r\n                    注册\r\n        </Button>\r\n            </Form.Item>\r\n        </Form>\r\n    );\r\n};\r\n\r\n\r\n\r\nexport default Register;","import React, { useState, useContext } from 'react'\r\nimport { Input,Button } from 'antd';\r\nimport axios from 'axios'\r\nexport default  function New(){\r\n    const { TextArea } = Input;\r\n    const [title,SetTitle]=useState('')\r\n    const [content,SetContent]=useState('')\r\n    //  const [author,SetAuthor]=useState('')\r\n    const author = localStorage.getItem('author')\r\n    const HandleUpdate=()=>{\r\n        axios(`/api/blog/new?title=${title}&content=${content}&author=${author}`).then(res=>\r\n          res.data\r\n         \r\n        )\r\n        .then(res=>{\r\n          \r\n             if(res.success){\r\n                 alert('新增成功')\r\n             }\r\n             else{\r\n                 alert('新增失败')\r\n             }\r\n         }\r\n          \r\n         )\r\n    }\r\n   \r\n\r\n    return(\r\n        <div> <Input onChange={e=>{SetTitle(e.target.value)}}  placeholder=\"请输入标题\" />\r\n        {/* <Input onChange={e=>{SetAuthor(e.target.value)}}  placeholder=\"请输入作者姓名\" /> */}\r\n        <TextArea onChange={e=>{SetContent(e.target.value)}} rows={4} placeholder='请输入内容'/>\r\n       \r\n       <Button onClick={HandleUpdate}>提交</Button></div>\r\n    )}","import React, { useState,useEffect } from 'react'\r\nimport { Layout, Menu, Input, Button, Row, Col, Card } from 'antd';\r\nimport { BrowserRouter, Route, Link} from 'react-router-dom';\r\nimport axios from 'axios'\r\nimport {InfiniteListExample} from './CardList'\r\nimport Tea from './Tea'\r\nimport Advise from './Advise'\r\nimport Login from './Login'\r\nimport Detail from './Detail'\r\nimport Update from './Update';\r\nimport Register from './Register';\r\nimport New from './new'\r\nimport {\r\n  HomeOutlined,\r\n  FileTextOutlined,\r\n  CoffeeOutlined,\r\n  AudioOutlined\r\n} from '@ant-design/icons';\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst { Search } = Input;\r\n\r\nconst suffix = (\r\n  <AudioOutlined\r\n    style={{\r\n      fontSize: 16,\r\n      color: '#1890ff',\r\n    }}\r\n  />\r\n);\r\n\r\nconst { Header, Sider, Content, Footer } = Layout;\r\n\r\nexport default function SiderDemo() {\r\n  const [collapsed, SetCollapsed] = useState(false);\r\n  \r\n const toggle = () => {\r\n     SetCollapsed(!collapsed)\r\n  }\r\n \r\n \r\n\r\n\r\n  return (\r\n    <>\r\n     \r\n    <BrowserRouter>\r\n      <Layout >\r\n    \r\n        <Sider className='sider' collapsible trigger={null} breakpoint='lg' onBreakpoint={toggle} >\r\n          {/* <div className=\"logo\" /> */}\r\n          <Menu className='menu'  mode=\"inline\" defaultSelectedKeys={['1']}>\r\n            <Menu.Item key=\"1\" icon={<HomeOutlined />}>\r\n              <Link to=\"/\">首页</Link>\r\n            </Menu.Item>\r\n            <Menu.Item key=\"2\" icon={<FileTextOutlined />}>\r\n              <Link to=\"/advise\">排行榜</Link>\r\n            </Menu.Item>\r\n            <Menu.Item key=\"3\" icon={ <CoffeeOutlined /> }>\r\n              <Link to=\"/tea\"> 须知 </Link>\r\n            </Menu.Item>\r\n          </Menu>\r\n        </Sider>\r\n        <Layout className=\"site-layout\">\r\n         \r\n          <Header className=\"site-layout-background\" style={{ padding: 0 }}>\r\n          <Row style={{ background: \"white\" }}>\r\n            <Col span={6}></Col>\r\n            <Col> \r\n            <Search\r\n              placeholder=\"目前还不支持搜索功能\"\r\n              \r\n             \r\n              style={{\r\n                width: 200,\r\n              }} />\r\n            </Col>\r\n            <Col span={6}></Col>\r\n            <Col><Button type=\"primary\" style={{\r\n            }}><Link to=\"/login\">登入</Link></Button><Button><Link to=\"/register\">注册</Link></Button></Col></Row>\r\n          </Header>\r\n          <Content\r\n            className=\"site-layout-background\"\r\n            style={{\r\n             \r\n              margin: '24px 16px',\r\n              padding: 24,\r\n              minHeight: 800,\r\n            }}\r\n          >\r\n          \r\n            {/* <MyContext.Provider value={bloglist}> */}\r\n              <Route path='/' exact render={() =><InfiniteListExample/>}></Route>\r\n              {/* </MyContext.Provider> */}\r\n            <Route path='/advise' exact render={() => <Advise />}></Route>\r\n            <Route path='/tea' exact render={() => <Tea />}></Route>\r\n            <Route path='/login' exact render={() =>  <Login/>}></Route>\r\n             <Route path='/register' exact render={() =>  <Register/>}></Route>\r\n            <Route path='/detail' exact render={() =>  <Detail/>}></Route>\r\n            <Route path='/update' exact render={() =>  <Update/>}></Route>\r\n            <Route path='/new' exact render={() =>  <New/>}></Route>             \r\n             \r\n          </Content>\r\n          <Footer style={{ textAlign: 'center' }}>BBBlog ©2020 Created by kunpeng</Footer>\r\n        </Layout>\r\n      </Layout>\r\n    </BrowserRouter>\r\n    </>\r\n  );\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './index.css';\r\n\r\n\r\nimport Sider from './components/menu' \r\n\r\nexport default function App() {\r\n\r\n\r\n  \r\n\r\n  return (\r\n    <div>\r\n        <Sider/>\r\n    </div>\r\n  )\r\n}\r\n\r\nReactDOM.render(\r\n    \r\n    <App />\r\n  ,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}