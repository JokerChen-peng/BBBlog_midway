{"version":3,"sources":["components/CardList.tsx","components/Tea.tsx","components/Advise.tsx","components/Login.tsx","components/Detail.tsx","components/Update.tsx","components/Register.tsx","components/new.tsx","components/menu.tsx","index.tsx"],"names":["InfiniteListExample","state","data","loading","hasMore","author","localStorage","getItem","fetchData","axios","get","then","res","handleInfiniteOnLoad","setState","length","message","warning","concat","this","list","item","key","id","className","title","content","substring","type","to","initialLoad","pageStart","loadMore","useWindow","map","renderRow","bind","React","Component","Tea","Advise","description","showIcon","Login","useState","username","setUsername","password","setPassword","name","initialValues","remember","layout","Item","label","rules","required","onChange","e","target","value","Password","htmlType","onClick","post","resp","success","console","log","setItem","alert","Detail","window","location","search","split","Author","setAuthor","SetContent","setTitle","align","justify","style","color","fontSize","Update","TextArea","Input","SetTitle","placeholder","rows","Register","New","Search","Header","AudioOutlined","Layout","Sider","Content","Footer","SiderDemo","collapsed","SetCollapsed","collapsible","trigger","breakpoint","onBreakpoint","mode","defaultSelectedKeys","icon","HomeOutlined","FileTextOutlined","CoffeeOutlined","padding","background","span","width","margin","minHeight","path","exact","render","textAlign","App","ReactDOM","document","getElementById"],"mappings":"2bASaA,EAAb,4MACEC,MAAQ,CACNC,KAAM,GACNC,SAAS,EACTC,SAAS,EACTC,OAAOC,aAAaC,QAAQ,WALhC,EAkBEC,UAAYC,IAAMC,IAAI,kBAAkBC,MAAK,SAAAC,GAAG,OAAIA,EAAIV,QAlB1D,EAqCEW,qBAAuB,WAAO,IACtBX,EAAS,EAAKD,MAAdC,KAIN,GAHA,EAAKY,SAAS,CACZX,SAAS,IAEPD,EAAKa,OAAS,GAMhB,OALAC,IAAQC,QAAQ,iCAChB,EAAKH,SAAS,CACZV,SAAS,EACTD,SAAS,IAIb,EAAKK,UAAUG,MAAK,SAAAC,GAClBV,EAAOA,EAAKgB,OAAON,GACnB,EAAKE,SAAS,CACZZ,OACAC,SAAS,QAtDjB,kEAQuB,IAAD,OAClBgB,KAAKX,UAAUG,MAAK,SAAAC,GAElB,EAAKE,SAAS,CACZZ,KAAMU,EAAIQ,YAZlB,gCAoBYC,GACV,OACE,yBAAKC,IAAKD,EAAKE,GAAIC,UAAU,OAC3B,yBAAKA,UAAU,UAGf,yBAAKA,UAAU,WACb,6BAAMH,EAAKI,OACX,yBAAKD,UAAU,WAAWH,EAAKK,QAAQC,UAAU,EAAE,KAAKT,OAAO,QAC/D,yBAAKM,UAAU,UAAf,QAA8BH,EAAKhB,QACnC,kBAAC,IAAD,CAAQuB,KAAK,UAAS,kBAAC,IAAD,CAAMC,GAAE,kBAAaR,EAAKE,KAA1B,6CA9B9B,+BA4DI,OACE,yBAAKC,UAAU,2BACb,kBAAC,IAAD,CACEM,aAAa,EACbC,UAAW,EACXC,SAAUb,KAAKN,qBACfT,SAAUe,KAAKlB,MAAME,SAAWgB,KAAKlB,MAAMG,QAC3C6B,WAAW,GA8BX,yBAAKT,UAAU,QAChBL,KAAKlB,MAAMC,KAAKgC,IAAIf,KAAKgB,UAAUC,KAAKjB,SAGzC,kBAAC,IAAD,UAAWA,KAAKlB,MAAMI,OAAS,kBAAC,IAAD,CAAMwB,GAAG,OAAT,wCAA+B,qEAA9D,UArGR,GAAyCQ,IAAMC,WCR/B,SAASC,IACrB,OACC,iCAAM,8EACD,gIACF,kE,aCHQ,SAASC,IACrB,OACI,iCAAM,kBAAC,IAAD,CACRxB,QAAQ,qBACRyB,YAAY,0DACZb,KAAK,OACLc,UAAQ,K,aC2ECC,EA9ED,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACXC,EADW,KACDC,EADC,OAEcF,mBAAS,IAFvB,mBAEXG,EAFW,KAEDC,EAFC,KAyBlB,OACE,kBAAC,IAAD,CAEEC,KAAK,QACLC,cAAe,CACbC,UAAU,GAEZC,OAAO,UAEP,kBAAC,IAAKC,KAAN,CACEC,MAAM,qBACNL,KAAK,WACLM,MAAO,CACL,CACEC,UAAU,EACVxC,QAAS,sDAIb,kBAAC,IAAD,CAAQyC,SAAU,SAAAC,GAERZ,EAAYY,EAAEC,OAAOC,WAIjC,kBAAC,IAAKP,KAAN,CACEC,MAAM,eACNL,KAAK,WACLM,MAAO,CACL,CACEC,UAAU,EACVxC,QAAS,gDAIb,kBAAC,IAAM6C,SAAP,CAAgBJ,SAAU,SAAAC,GAEhBV,EAAYU,EAAEC,OAAOC,WAKjC,kBAAC,IAAKP,KAAN,KACE,kBAAC,IAAD,CAAQzB,KAAK,UAAUkC,SAAS,SAAQC,QAhEzB,WACnBtD,IAAMuD,KAAN,kBAA6B,CAC5BnB,WAASE,aACPpC,MAAK,SAAAsD,GAEJA,EAAK/D,KAAKgE,SACZC,QAAQC,IAAIH,EAAK/D,MACZI,aAAa+D,QAAQ,SAASJ,EAAK/D,KAAKG,QACzCiE,MAAM,6BAIRA,MAAM,iCAoDN,mBCrEO,SAASC,IACpB,IACIhD,EADOiD,OAAOC,SAASC,OAAOC,MAAM,KAC1B,GAEPC,EAAStE,aAAaC,QAAQ,UAJR,EAKDqC,mBAAS,IALR,mBAKtBvC,EALsB,KAKdwE,EALc,OAMCjC,mBAAS,IANV,mBAMtBlB,EANsB,KAMboD,EANa,OAOHlC,mBAAS,IAPN,mBAOtBnB,EAPsB,KAOfsD,EAPe,KAQ7BtE,IAAMC,IAAN,8BAAiCa,IAAMZ,MACrC,SAAAC,GAAG,OAAIA,EAAIV,QACVS,MAAK,SAAAC,GACLiE,EAAUjE,EAAIP,QAGf0E,EAASnE,EAAIa,OACZqD,EAAWlE,EAAIc,YAwBlB,OAAQ,6BACL,kBAAC,IAAD,CAAKsD,MAAM,SAAQC,QAAQ,UAAS,wBAAIzD,UAAU,SAASC,IAC3D,kBAAC,IAAD,KAAK,6BAAK,0BAAMyD,MAAO,CACnBC,MAAM,OACNC,SAAS,SAFH,aAGI/E,GAAc,0BAAM6E,MAAO,CACxCC,MAAM,OACNC,SAAS,SAFkB,OAI/B,6BACA,6BACI,6BAAK,2BAAI1D,IACV,kBAAC,IAAD,KAASkD,IAASvE,EAAO,kBAAC,IAAD,CAAMwB,GAAE,kBAAaN,IAArB,gBAAqC,IAC7D,6BACEqD,IAASvE,EAAO,kBAAC,IAAD,CAAQ0D,QAnCb,WAELtD,IAAM,oBAAD,OAAqBc,IAAMZ,MACpC,SAAAC,GAAG,OAAEA,EAAIV,QAEZS,MACM,SAAAC,GACOA,EAAIsD,QACHI,MAAM,4BAENA,MAAM,iCAyBH,iBAAyC,+BCtDnD,SAASe,IACrB,IACI9D,EADOiD,OAAOC,SAASC,OAAOC,MAAM,KAC1B,GACNW,EAAaC,IAAbD,SAHqB,EAIN1C,mBAAS,IAJH,mBAItBnB,EAJsB,KAIhB+D,EAJgB,OAKF5C,mBAAS,IALP,mBAKtBlB,EALsB,KAKdoD,EALc,KAOtBzE,EAASC,aAAaC,QAAQ,UAiBrC,OACI,iCAAM,kBAAC,IAAD,CAAOkD,SAAU,SAAAC,GAAI8B,EAAS9B,EAAEC,OAAOC,QAAU6B,YAAY,mCAEnE,kBAACH,EAAD,CAAU7B,SAAU,SAAAC,GAAIoB,EAAWpB,EAAEC,OAAOC,QAAS8B,KAAM,EAAGD,YAAY,mCAE3E,kBAAC,IAAD,CAAQ1B,QArBQ,WACftD,IAAM,uBAAD,OAAwBc,EAAxB,kBAAoCE,EAApC,oBAAqDC,EAArD,mBAAuErB,IAAWM,MAAK,SAAAC,GAAG,OAAEA,EAAIV,QACnGS,MAAK,SAAAC,GAEAA,EACC0D,MAAM,4BAGNA,MAAM,iCAaf,6BC3BP,IA2EeqB,EA3EE,WAAO,IAAD,EACa/C,mBAAS,IADtB,mBACZC,EADY,KACFC,EADE,OAEaF,mBAAS,IAFtB,mBAEZG,EAFY,KAEFC,EAFE,KAmBnB,OACI,kBAAC,IAAD,CAEIC,KAAK,QACLG,OAAO,SACPF,cAAe,CACXC,UAAU,IAId,kBAAC,IAAKE,KAAN,CACIC,MAAM,qBACNL,KAAK,qBAELM,MAAO,CACH,CACIC,UAAU,EACVxC,QAAS,uDAIjB,kBAAC,IAAD,CAAOyC,SAAU,SAAAC,GAEbZ,EAAYY,EAAEC,OAAOC,WAI7B,kBAAC,IAAKP,KAAN,CACIC,MAAM,eACNL,KAAK,eACLM,MAAO,CACH,CACIC,UAAU,EACVxC,QAAS,iDAIjB,kBAAC,IAAM6C,SAAP,CAAgBJ,SAAU,SAAAC,GAEtBV,EAAYU,EAAEC,OAAOC,WAM7B,kBAAC,IAAKP,KAAN,KACI,kBAAC,IAAD,CAASS,SAAS,SAASC,QA9DhB,WAEnBtD,IAAMuD,KAAK,qBAAqB,CAC5BnB,WAASE,aAEZpC,MAAK,SAAAsD,GAAI,OAAIA,EAAK/D,QAClBS,MAAK,SAAAsD,GACAA,EACFK,MAAM,gEAENA,MAAM,iCAoDF,mBCnEA,SAASsB,IAAM,IACnBN,EAAaC,IAAbD,SADkB,EAEH1C,mBAAS,IAFN,mBAEnBnB,EAFmB,KAEb+D,EAFa,OAGC5C,mBAAS,IAHV,mBAGnBlB,EAHmB,KAGXoD,EAHW,KAKpBzE,EAASC,aAAaC,QAAQ,UAoBpC,OACI,iCAAM,kBAAC,IAAD,CAAOkD,SAAU,SAAAC,GAAI8B,EAAS9B,EAAEC,OAAOC,QAAU6B,YAAY,mCAEnE,kBAACH,EAAD,CAAU7B,SAAU,SAAAC,GAAIoB,EAAWpB,EAAEC,OAAOC,QAAS8B,KAAM,EAAGD,YAAY,mCAE3E,kBAAC,IAAD,CAAQ1B,QAxBQ,WACftD,IAAM,uBAAD,OAAwBgB,EAAxB,oBAAyCC,EAAzC,mBAA2DrB,IAAUM,MAAK,SAAAC,GAAG,OAChFA,EAAIV,QAGLS,MAAK,SAAAC,GAEEA,EAAIsD,QACHI,MAAM,4BAGNA,MAAM,iCAahB,iB,wCCHCuB,EAAWN,IAAXM,OAWAC,GARLC,EAAA,EAQwCC,IAAnCF,QAAQG,EAA2BD,IAA3BC,MAAOC,EAAoBF,IAApBE,QAASC,EAAWH,IAAXG,OAEjB,SAASC,IAAa,IAAD,EACAxD,oBAAS,GADT,mBAC3ByD,EAD2B,KAChBC,EADgB,KAUlC,OACE,oCAEA,kBAAC,IAAD,KACE,kBAAC,IAAD,KAEE,kBAACL,EAAD,CAAOzE,UAAU,QAAQ+E,aAAW,EAACC,QAAS,KAAMC,WAAW,KAAKC,aAb5D,WACXJ,GAAcD,KAcT,kBAAC,IAAD,CAAM7E,UAAU,OAAQmF,KAAK,SAASC,oBAAqB,CAAC,MAC1D,kBAAC,IAAKvD,KAAN,CAAW/B,IAAI,IAAIuF,KAAM,kBAACC,EAAA,EAAD,OACvB,kBAAC,IAAD,CAAMjF,GAAG,KAAT,iBAEF,kBAAC,IAAKwB,KAAN,CAAW/B,IAAI,IAAIuF,KAAM,kBAACE,EAAA,EAAD,OACvB,kBAAC,IAAD,CAAMlF,GAAG,WAAT,iBAEF,kBAAC,IAAKwB,KAAN,CAAW/B,IAAI,IAAIuF,KAAO,kBAACG,EAAA,EAAD,OACxB,kBAAC,IAAD,CAAMnF,GAAG,QAAT,qBAIN,kBAAC,IAAD,CAAQL,UAAU,eAEhB,kBAACsE,EAAD,CAAQtE,UAAU,yBAAyB0D,MAAO,CAAE+B,QAAS,IAC7D,kBAAC,IAAD,CAAK/B,MAAO,CAAEgC,WAAY,UACxB,kBAAC,IAAD,CAAKC,KAAM,IACX,kBAAC,IAAD,KACA,kBAACtB,EAAD,CACEJ,YAAY,+DAGZP,MAAO,CACLkC,MAAO,QAGX,kBAAC,IAAD,CAAKD,KAAM,IACX,kBAAC,IAAD,KAAK,kBAAC,IAAD,CAAQvF,KAAK,UAAUsD,MAAO,IAChC,kBAAC,IAAD,CAAMrD,GAAG,UAAT,iBAAoC,kBAAC,IAAD,KAAQ,kBAAC,IAAD,CAAMA,GAAG,aAAT,oBAEjD,kBAACqE,EAAD,CACE1E,UAAU,yBACV0D,MAAO,CAELmC,OAAQ,YACRJ,QAAS,GACTK,UAAW,MAKX,kBAAC,IAAD,CAAOC,KAAK,IAAIC,OAAK,EAACC,OAAQ,kBAAK,kBAAC,EAAD,SAErC,kBAAC,IAAD,CAAOF,KAAK,UAAUC,OAAK,EAACC,OAAQ,kBAAM,kBAACjF,EAAD,SAC1C,kBAAC,IAAD,CAAO+E,KAAK,OAAOC,OAAK,EAACC,OAAQ,kBAAM,kBAAClF,EAAD,SACvC,kBAAC,IAAD,CAAOgF,KAAK,SAASC,OAAK,EAACC,OAAQ,kBAAO,kBAAC,EAAD,SACzC,kBAAC,IAAD,CAAOF,KAAK,YAAYC,OAAK,EAACC,OAAQ,kBAAO,kBAAC,EAAD,SAC9C,kBAAC,IAAD,CAAOF,KAAK,UAAUC,OAAK,EAACC,OAAQ,kBAAO,kBAAClD,EAAD,SAC3C,kBAAC,IAAD,CAAOgD,KAAK,UAAUC,OAAK,EAACC,OAAQ,kBAAO,kBAACpC,EAAD,SAC3C,kBAAC,IAAD,CAAOkC,KAAK,OAAOC,OAAK,EAACC,OAAQ,kBAAO,kBAAC7B,EAAD,UAG1C,kBAACO,EAAD,CAAQjB,MAAO,CAAEwC,UAAW,WAA5B,0CCzGK,SAASC,IAKtB,OACE,6BACI,kBAAC,EAAD,OAKRC,IAASH,OAEL,kBAACE,EAAD,MAEFE,SAASC,eAAe,W","file":"static/js/main.70c84dd7.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nimport axios from 'axios'\r\nimport { List, message, Avatar, Spin, Button } from 'antd';\r\n\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nexport class InfiniteListExample extends React.Component {\r\n  state = {\r\n    data: [],\r\n    loading: false,\r\n    hasMore: true,\r\n    author:localStorage.getItem('author')\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.fetchData.then(res => {\r\n\r\n      this.setState({\r\n        data: res.list,\r\n      });\r\n\r\n    });\r\n  }\r\n\r\n  fetchData = axios.get('/api/blog/list').then(res => res.data\r\n  )\r\n  renderRow(item) {\r\n  return (\r\n    <div key={item.id} className=\"row\">\r\n      <div className=\"image\">\r\n        {/* <img src={item.image} alt=\"\" /> */}\r\n      </div>\r\n      <div className=\"content\">\r\n        <div>{item.title}</div>\r\n        <div className='content'>{item.content.substring(0,100).concat('...')}</div>\r\n        <div className='author'>by   {item.author}</div>\r\n        <Button type=\"dashed\"><Link to={`/detail?${item.id}`}>点击查看详情</Link></Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n  handleInfiniteOnLoad = () => {\r\n    let { data } = this.state;\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n    if (data.length > 14) {\r\n      message.warning('Infinite List loaded all');\r\n      this.setState({\r\n        hasMore: false,\r\n        loading: false,\r\n      });\r\n      return;\r\n    }\r\n    this.fetchData.then(res => {\r\n      data = data.concat(res);\r\n      this.setState({\r\n        data,\r\n        loading: false,\r\n      });\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"demo-infinite-container\">\r\n        <InfiniteScroll\r\n          initialLoad={false}\r\n          pageStart={0}\r\n          loadMore={this.handleInfiniteOnLoad}\r\n          hasMore={!this.state.loading && this.state.hasMore}\r\n          useWindow={false}\r\n        >\r\n          {/* <List\r\n            dataSource={this.state.data}\r\n            renderItem={\r\n              item => \r\n                \r\n                \r\n                 (<List.Item key={item.id?item.id:null}>\r\n                    <List.Item.Meta\r\n                      // avatar={<Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />}\r\n                      title={item.title}\r\n                      description={item.content}\r\n                    />\r\n                  <div style={{ \r\n                      marginRight: 50\r\n                    }}>by  {item.author}</div>\r\n                 <Button type=\"dashed\"><Link to={`/detail?${item.id}`}>点击查看详情</Link></Button> </List.Item>)\r\n              \r\n\r\n                \r\n                \r\n             }\r\n          >\r\n            {this.state.loading && this.state.hasMore && (\r\n              <div className=\"demo-loading-container\">\r\n                <Spin />\r\n              </div>\r\n            )}\r\n          </List> */}\r\n          <div className=\"list\">\r\n        {this.state.data.map(this.renderRow.bind(this))}\r\n      </div>\r\n        </InfiniteScroll>\r\n        <Button>  {this.state.author ? <Link to='new'>点击新增博客</Link> : '请先登入才能新增博客哦'} </Button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import React, { useState } from 'react'\r\nexport default  function Tea(){\r\n    return(\r\n     <div> <h1>这个blog有很多不足</h1>\r\n          <h1>但俺才快大二，有时间去升级和维护</h1>\r\n        <h1>求大家点赞^ ^</h1></div>\r\n    )}","import React, { useState } from 'react'\nimport { Alert } from 'antd'\nexport default  function Advise(){\n    return(\n        <div> <Alert\n      message=\"请注意\"\n      description=\"不要发不良的信息呦!\"\n      type=\"info\"\n      showIcon\n    /></div>\n    )}","import React, {useState,useEffect}from 'react';\r\nimport { Form, Input, Button} from 'antd';\r\nimport axios from 'axios'\r\n\r\n\r\nconst Login = () => {\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n \r\n   const handleLogin = () =>{\r\n    axios.post(`/api/user/login`,{\r\n     username,password\r\n    }).then(resp => {\r\n       \r\n    if (resp.data.success) {\r\n      console.log(resp.data)\r\n           localStorage.setItem('author',resp.data.author)       \r\n          alert(`登录成功`)\r\n       }\r\n       \r\n       else {\r\n        alert(`登录失败`)\r\n       }\r\n     })}\r\n   \r\n\r\n  \r\n\r\n\r\n\r\n  return (\r\n    <Form\r\n     \r\n      name=\"basic\"\r\n      initialValues={{\r\n        remember: true,\r\n      }}\r\n      layout='inline'\r\n    >\r\n      <Form.Item\r\n        label=\"用户名\"\r\n        name=\"username\"\r\n        rules={[\r\n          {\r\n            required: true,\r\n            message: '请输入你的用户名',\r\n          },\r\n        ]}\r\n      >\r\n        <Input  onChange={e => {\r\n                  \r\n                  setUsername(e.target.value)\r\n                }}/>\r\n      </Form.Item>\r\n\r\n      <Form.Item\r\n        label=\"密码\"\r\n        name=\"password\"\r\n        rules={[\r\n          {\r\n            required: true,\r\n            message: '请输入你的密码',\r\n          },\r\n        ]}\r\n      >\r\n        <Input.Password onChange={e => {\r\n                  \r\n                  setPassword(e.target.value)\r\n                }}/>\r\n      </Form.Item>\r\n\r\n\r\n      <Form.Item >\r\n        <Button type=\"primary\" htmlType=\"submit\"onClick={handleLogin}>\r\n          登入\r\n        </Button>\r\n      </Form.Item>\r\n    </Form>\r\n  );\r\n};\r\n\r\n\r\n\r\nexport default Login;","import React, { useState } from 'react'\r\nimport axios from 'axios'\r\nimport {Col,Row, Button, Alert} from 'antd'\r\nimport { Link } from 'react-router-dom';\r\nexport default function Detail() {\r\n    let list = window.location.search.split('?');\r\n    let id = list[1];\r\n    \r\n    const  Author = localStorage.getItem('author')\r\n    const [author, setAuthor] = useState('');\r\n    const [content, SetContent] = useState(\"\");\r\n    const [title, setTitle] = useState('')\r\n    axios.get(`/api/blog/detail?id=${id}`).then(\r\n      res => res.data\r\n    ). then(res => {\r\n       setAuthor(res.author)\r\n     \r\n  \r\n      setTitle(res.title)\r\n       SetContent(res.content)\r\n\r\n   })\r\n    const handleDel =()=>{\r\n          \r\n                axios(`/api/blog/del?id=${id}`).then(\r\n            res=>res.data\r\n        )\r\n        .then(\r\n               res=>{\r\n                   if(res.success){\r\n                       alert('删除成功')\r\n                   }else{\r\n                       alert('删除失败')\r\n                   }\r\n               }\r\n            )\r\n            \r\n        \r\n          \r\n        \r\n       \r\n    }\r\n\r\n    return (<div>\r\n       <Row align='middle'justify='center'><h2 className=\"title\">{title}</h2></Row> \r\n       <Row><div><span style={{\r\n           color:'grey',\r\n           fontSize:'12px'\r\n       }}> write By {author}</span><span style={{\r\n        color:'grey',\r\n        fontSize:'12px'\r\n    }}> </span></div></Row> \r\n    <br/>\r\n    <br/>\r\n        <div><p>{content}</p></div>\r\n       <Button>{Author===author?<Link to={`/update?${id}`}>更新</Link>:''}</Button> \r\n        <br/>\r\n         {Author===author?<Button onClick={handleDel}>删除 </Button>:<div></div>}\r\n\r\n        \r\n       \r\n    </div>\r\n\r\n    )\r\n}","import React, { useState, useContext } from 'react'\r\nimport { Input,Button } from 'antd';\r\nimport axios from 'axios'\r\nexport default  function Update(){\r\n    let list = window.location.search.split('?');\r\n    let id = list[1];\r\n    const { TextArea } = Input;\r\n    const [title,SetTitle]=useState('')\r\n    const [content,SetContent]=useState('')\r\n    //  const [author,SetAuthor]=useState('')\r\n     const author = localStorage.getItem('author')\r\n    const HandleUpdate=()=>{\r\n        axios(`/api/blog/update?id=${id}&title=${title}&content=${content}&author=${author}`,).then(res=>res.data\r\n        ).then(res=>{\r\n          // console.log(res)\r\n            if(res){\r\n                alert('更新成功')\r\n            }\r\n            else{\r\n                alert('更新失败')\r\n            }\r\n        }\r\n          \r\n        )\r\n    }\r\n   \r\n\r\n    return(\r\n        <div> <Input onChange={e=>{SetTitle(e.target.value)}}  placeholder=\"请输入标题\" />\r\n         {/* <Input onChange={e=>{SetAuthor(e.target.value)}}  placeholder=\"请输入作者姓名\" /> */}\r\n        <TextArea onChange={e=>{SetContent(e.target.value)}} rows={4} placeholder='请输入内容'/>\r\n       \r\n       <Button onClick={HandleUpdate}>提交更新</Button></div>\r\n    )}","import React, { useState } from 'react';\r\nimport { Form, Input, Button, Checkbox } from 'antd';\r\nimport axios from 'axios'\r\n\r\n\r\nconst Register = () => {\r\n    const [username, setUsername] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const handleRegister = () => {\r\n       \r\n        axios.post('/api/user/register',{\r\n            username,password\r\n        })\r\n        .then(resp => resp.data)\r\n        .then(resp => {\r\n          if (resp) {\r\n            alert(`注册成功，快去登入吧`)\r\n          } else {\r\n            alert(`注册失败`)\r\n          }\r\n        })\r\n        \r\n      \r\n    } \r\n    return (\r\n        <Form\r\n          \r\n            name=\"basic\"\r\n            layout='inline'\r\n            initialValues={{\r\n                remember: true,\r\n            }}\r\n\r\n        >\r\n            <Form.Item\r\n                label=\"用户名\"\r\n                name=\"用户名\"\r\n\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        message: '请输入你的用户名!',\r\n                    },\r\n                ]}\r\n            >\r\n                <Input onChange={e => {\r\n\r\n                    setUsername(e.target.value)\r\n                }} />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n                label=\"密码\"\r\n                name=\"密码\"\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        message: '请输入你的密码!',\r\n                    },\r\n                ]}\r\n            >\r\n                <Input.Password onChange={e => {\r\n\r\n                    setPassword(e.target.value)\r\n                }} />\r\n            </Form.Item>\r\n\r\n\r\n\r\n            <Form.Item >\r\n                <Button  htmlType=\"submit\" onClick={handleRegister}>\r\n                    注册\r\n        </Button>\r\n            </Form.Item>\r\n        </Form>\r\n    );\r\n};\r\n\r\n\r\n\r\nexport default Register;","import React, { useState, useContext } from 'react'\r\nimport { Input,Button } from 'antd';\r\nimport axios from 'axios'\r\nexport default  function New(){\r\n    const { TextArea } = Input;\r\n    const [title,SetTitle]=useState('')\r\n    const [content,SetContent]=useState('')\r\n    //  const [author,SetAuthor]=useState('')\r\n    const author = localStorage.getItem('author')\r\n    const HandleUpdate=()=>{\r\n        axios(`/api/blog/new?title=${title}&content=${content}&author=${author}`).then(res=>\r\n          res.data\r\n         \r\n        )\r\n        .then(res=>{\r\n          \r\n             if(res.success){\r\n                 alert('新增成功')\r\n             }\r\n             else{\r\n                 alert('新增失败')\r\n             }\r\n         }\r\n          \r\n         )\r\n    }\r\n   \r\n\r\n    return(\r\n        <div> <Input onChange={e=>{SetTitle(e.target.value)}}  placeholder=\"请输入标题\" />\r\n        {/* <Input onChange={e=>{SetAuthor(e.target.value)}}  placeholder=\"请输入作者姓名\" /> */}\r\n        <TextArea onChange={e=>{SetContent(e.target.value)}} rows={4} placeholder='请输入内容'/>\r\n       \r\n       <Button onClick={HandleUpdate}>提交</Button></div>\r\n    )}","import React, { useState,useEffect } from 'react'\r\nimport { Layout, Menu, Input, Button, Row, Col, Card } from 'antd';\r\nimport { BrowserRouter, Route, Link} from 'react-router-dom';\r\nimport axios from 'axios'\r\nimport {InfiniteListExample} from './CardList'\r\nimport Tea from './Tea'\r\nimport Advise from './Advise'\r\nimport Login from './Login'\r\nimport Detail from './Detail'\r\nimport Update from './Update';\r\nimport Register from './Register';\r\nimport New from './new'\r\nimport {\r\n  HomeOutlined,\r\n  FileTextOutlined,\r\n  CoffeeOutlined,\r\n  AudioOutlined\r\n} from '@ant-design/icons';\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst { Search } = Input;\r\n\r\nconst suffix = (\r\n  <AudioOutlined\r\n    style={{\r\n      fontSize: 16,\r\n      color: '#1890ff',\r\n    }}\r\n  />\r\n);\r\n\r\nconst { Header, Sider, Content, Footer } = Layout;\r\n\r\nexport default function SiderDemo() {\r\n  const [collapsed, SetCollapsed] = useState(false);\r\n  \r\n const toggle = () => {\r\n     SetCollapsed(!collapsed)\r\n  }\r\n \r\n \r\n\r\n\r\n  return (\r\n    <>\r\n     \r\n    <BrowserRouter>\r\n      <Layout >\r\n    \r\n        <Sider className='sider' collapsible trigger={null} breakpoint='lg' onBreakpoint={toggle} >\r\n          {/* <div className=\"logo\" /> */}\r\n          <Menu className='menu'  mode=\"inline\" defaultSelectedKeys={['1']}>\r\n            <Menu.Item key=\"1\" icon={<HomeOutlined />}>\r\n              <Link to=\"/\">首页</Link>\r\n            </Menu.Item>\r\n            <Menu.Item key=\"2\" icon={<FileTextOutlined />}>\r\n              <Link to=\"/advise\">须知</Link>\r\n            </Menu.Item>\r\n            <Menu.Item key=\"3\" icon={ <CoffeeOutlined /> }>\r\n              <Link to=\"/tea\"> 捐赠 </Link>\r\n            </Menu.Item>\r\n          </Menu>\r\n        </Sider>\r\n        <Layout className=\"site-layout\">\r\n         \r\n          <Header className=\"site-layout-background\" style={{ padding: 0 }}>\r\n          <Row style={{ background: \"white\" }}>\r\n            <Col span={6}></Col>\r\n            <Col> \r\n            <Search\r\n              placeholder=\"目前还不支持搜索功能\"\r\n              \r\n             \r\n              style={{\r\n                width: 200,\r\n              }} />\r\n            </Col>\r\n            <Col span={6}></Col>\r\n            <Col><Button type=\"primary\" style={{\r\n            }}><Link to=\"/login\">登入</Link></Button><Button><Link to=\"/register\">注册</Link></Button></Col></Row>\r\n          </Header>\r\n          <Content\r\n            className=\"site-layout-background\"\r\n            style={{\r\n             \r\n              margin: '24px 16px',\r\n              padding: 24,\r\n              minHeight: 800,\r\n            }}\r\n          >\r\n          \r\n            {/* <MyContext.Provider value={bloglist}> */}\r\n              <Route path='/' exact render={() =><InfiniteListExample/>}></Route>\r\n              {/* </MyContext.Provider> */}\r\n            <Route path='/advise' exact render={() => <Advise />}></Route>\r\n            <Route path='/tea' exact render={() => <Tea />}></Route>\r\n            <Route path='/login' exact render={() =>  <Login/>}></Route>\r\n             <Route path='/register' exact render={() =>  <Register/>}></Route>\r\n            <Route path='/detail' exact render={() =>  <Detail/>}></Route>\r\n            <Route path='/update' exact render={() =>  <Update/>}></Route>\r\n            <Route path='/new' exact render={() =>  <New/>}></Route>             \r\n             \r\n          </Content>\r\n          <Footer style={{ textAlign: 'center' }}>BBBlog ©2020 Created by kunpeng</Footer>\r\n        </Layout>\r\n      </Layout>\r\n    </BrowserRouter>\r\n    </>\r\n  );\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './index.css';\r\n\r\n\r\nimport Sider from './components/menu' \r\n\r\nexport default function App() {\r\n\r\n\r\n  \r\n\r\n  return (\r\n    <div>\r\n        <Sider/>\r\n    </div>\r\n  )\r\n}\r\n\r\nReactDOM.render(\r\n    \r\n    <App />\r\n  ,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}